<!DOCTYPE html>
<html data-color-mode="{{ theme }}">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ base_path }}/github-markdown.css" />
  <link rel="stylesheet" href="{{ base_path }}/highlight-{{ theme }}.css">
  {% if 'class="math ' in markdown %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"
      integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"
      integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx"
      crossorigin="anonymous"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const elementsToRender = document.querySelectorAll(".math");
        elementsToRender.forEach(element => {
          if (element.closest("pre")) {
            return;
          }
          katex.render(element.textContent, element, {
            throwOnError: false,
            displayMode: element.classList.contains("block")
          });
        });
      });
    </script>
  {% endif %}
  {{ extra | safe }}
</head>

<body>
  <article class="markdown-body">
    {{ markdown | safe }}
  </article>
</body>

</html>
